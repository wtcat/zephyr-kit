# SPDX-License-Identifier: Apache-2.0

# 48MHz system clock
CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC=48000000
CONFIG_SYS_CLOCK_TICKS_PER_SEC=100

CONFIG_SERIAL=n

# console
CONFIG_CONSOLE=n
CONFIG_UART_CONSOLE=n

# enable pinmux
CONFIG_PINMUX=n

# enable GPIO
CONFIG_GPIO=n

# clock configuration
CONFIG_CLOCK_CONTROL=n


# ARM Options
CONFIG_GEN_ISR_TABLES=y
CONFIG_GEN_IRQ_VECTOR_TABLE=y
CONFIG_ARM_MPU=y
CONFIG_MPU_STACK_GUARD=y
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_IDLE_STACK_SIZE=1024
CONFIG_ISR_STACK_SIZE=4096
CONFIG_TEST_EXTRA_STACKSIZE=0
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096

# General Architecture Options
CONFIG_HW_STACK_PROTECTION=y
#CONFIG_USERSPACE=y
CONFIG_DYNAMIC_INTERRUPTS=y

# Moudles
CONFIG_GUIX=y
CONFIG_RGB565_SWAP_BYTEORDER=y
#CONFIG_GUIX_USER_MODE=y

# Device driver
CONFIG_APOLLO3P_DEVICE=y
CONFIG_SERIAL=y
CONFIG_UART_APOLLO3P=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_CONSOLE_ON_DEV_NAME="UART_1"
CONFIG_TIMER=y
#CONFIG_RTT_CONSOLE=y

CONFIG_MISC=y
CONFIG_GPIO=y
CONFIG_GPIO_APOLLO3P=y

CONFIG_I2C=y
CONFIG_I2C_APOLLO3P=y

CONFIG_LCD=y
CONFIG_LCD_APOLLO3P=y

CONFIG_TOUCH_PANEL=y
CONFIG_TP_APOLLO3P=y

CONFIG_MSPI_APOLLO3P=y
CONFIG_APOLLO3P_MSPI1=y

CONFIG_GUI_GPIO_KEY=y

# SPI Drivers
CONFIG_SPI_APOLLO3P=y
CONFIG_SPI=y

# Flash Device
CONFIG_APOLLO_MSPI_NOR=y

CONFIG_USE_SEGGER_RTT=y

# Sensors
#CONFIG_LIS2DH=y

# Subsystem
CONFIG_SHELL=y
CONFIG_UART_SHELL_ON_DEV_NAME="UART_1"
CONFIG_LOG=y
#CONFIG_LOG_MINIMAL=y

# Bluetooth
CONFIG_BT=y
CONFIG_BT_LOG_LEVEL_ERR=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_HCI_ACL_FLOW_CONTROL=n
CONFIG_BT_HRS=y
CONFIG_BT_BAS=y
CONFIG_BT_DIS=y

CONFIG_BT_SMP=y
CONFIG_BT_ECC=y

CONFIG_BT_RX_BUF_COUNT=16
CONFIG_BT_RX_BUF_LEN=320
CONFIG_BT_HCI_TX_STACK_SIZE=2048
CONFIG_BT_HCI_TX_STACK_SIZE_WITH_PROMPT=y

CONFIG_BT_DEVICE_NAME="Zephyr-HR"
CONFIG_BT_DEVICE_APPEARANCE=833

CONFIG_BT_L2CAP_TX_BUF_COUNT=6
CONFIG_BT_L2CAP_TX_FRAG_COUNT=4
CONFIG_BT_L2CAP_RX_MTU=320
CONFIG_BT_L2CAP_TX_MTU=320

CONFIG_BT_GATT_CLIENT=y

# Flash
CONFIG_DISK_ACCESS=y
CONFIG_DISK_ACCESS_FLASH=y
CONFIG_DISK_FLASH_VOLUME_NAME="NAND"
CONFIG_DISK_FLASH_DEV_NAME="SPI_FLASH_FS"
CONFIG_DISK_FLASH_START=0x0
CONFIG_DISK_FLASH_MAX_RW_SIZE=256
CONFIG_DISK_FLASH_ERASE_ALIGNMENT=0x1000
CONFIG_DISK_ERASE_BLOCK_SIZE=0x1000
CONFIG_DISK_VOLUME_SIZE=0x3600000


# File Systems
CONFIG_FILE_SYSTEM=y
CONFIG_APP_LINK_WITH_FS=y
CONFIG_FAT_FILESYSTEM_ELM=y

# FatFs Settings
CONFIG_FS_FATFS_NUM_FILES=4
CONFIG_FS_FATFS_NUM_DIRS=4
CONFIG_FS_FATFS_LFN=y
CONFIG_FS_FATFS_LFN_MODE_STACK=y


# General Kernel Options
CONFIG_MULTITHREADING=y
CONFIG_NUM_COOP_PRIORITIES=16
CONFIG_NUM_PREEMPT_PRIORITIES=15
CONFIG_MAIN_THREAD_PRIORITY=0
CONFIG_PRIORITY_CEILING=0
CONFIG_NUM_METAIRQ_PRIORITIES=0
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_CUSTOM_DATA=y
CONFIG_ERRNO=y
CONFIG_SCHED_MULTIQ=y
CONFIG_WAITQ_DUMB=y

# Kernel Debugging and Metrics
CONFIG_INIT_STACKS=y
CONFIG_BOOT_DELAY=0
CONFIG_THREAD_MONITOR=y
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MAX_NAME_LEN=32

# Work Queue Options
CONFIG_SYSTEM_WORKQUEUE_PRIORITY=-1

CONFIG_TICKLESS_IDLE=y
#CONFIG_TICKLESS_IDLE_THRESH=3
CONFIG_TICKLESS_KERNEL=y

#Power Manage
CONFIG_PM=y
CONFIG_PM_POLICY_RESIDENCY=y
CONFIG_PM_DEVICE_IDLE=y
